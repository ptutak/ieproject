{"version":3,"sources":["../../../../lib/routes/author/model.js"],"names":["Object","defineProperty","exports","value","AuthorModel","AuthorSchema","undefined","_mongoose","require","_mongoose2","_interopRequireDefault","_model","obj","__esModule","default","Schema","first_name","type","String","trim","last_name","date_of_birth","Date","books","Types","ObjectId","ref","methods","view","arguments","length","id","model"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;AAGAD,QAAQE,WAAR,GAAsBF,QAAQG,YAAR,GAAuBC,SAA7C;;AAEA,IAAIC,YAAYC,QAAQ,UAAR,CAAhB;;AAEA,IAAIC,aAAaC,uBAAuBH,SAAvB,CAAjB;;AAEA,IAAII,SAASH,QAAQ,eAAR,CAAb;;AAEA,SAASE,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F,IAAIP,eAAe,IAAII,WAAWK,OAAX,CAAmBC,MAAvB,CAA8B;AAC7CC,gBAAY;AACRC,cAAMC,MADE;AAERC,cAAM;AAFE,KADiC;AAK7CC,eAAW;AACPH,cAAMC,MADC;AAEPC,cAAM;AAFC,KALkC;AAS7CE,mBAAe;AACXJ,cAAMK;AADK,KAT8B;AAY7CC,WAAO;AACHN,cAAM,CAACR,WAAWK,OAAX,CAAmBC,MAAnB,CAA0BS,KAA1B,CAAgCC,QAAjC,CADH;AAEHC,aAAK;AAFF;AAZsC,CAA9B,CAAnB;;AAkBArB,aAAasB,OAAb,GAAuB;AACnBC,UAAM,SAASA,IAAT,GAAgB;AAClB,YAAIX,OAAOY,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBvB,SAAzC,GAAqDuB,UAAU,CAAV,CAArD,GAAoE,MAA/E;;AAEA,gBAAQZ,IAAR;AACI,iBAAK,MAAL;AACI,uBAAO;AACHc,wBAAI,KAAKA,EADN;AAEHf,gCAAY,KAAKA;AAFd,iBAAP;AAIJ;AACI,uBAAO;AACHe,wBAAI,KAAKA,EADN;AAEHf,gCAAY,KAAKA,UAFd;AAGHI,+BAAW,KAAKA,SAHb;AAIHC,mCAAe,KAAKA;AAJjB,iBAAP;AAPR;AAcH;AAlBkB,CAAvB;;AAqBA,IAAIjB,cAAcK,WAAWK,OAAX,CAAmBkB,KAAnB,CAAyB,SAAzB,EAAoC3B,YAApC,CAAlB;AACAH,QAAQG,YAAR,GAAuBA,YAAvB;AACAH,QAAQE,WAAR,GAAsBA,WAAtB;AACAF,QAAQY,OAAR,GAAkBV,WAAlB","file":"model.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.AuthorModel = exports.AuthorSchema = undefined;\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _model = require('../book/model');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AuthorSchema = new _mongoose2.default.Schema({\n    first_name: {\n        type: String,\n        trim: true\n    },\n    last_name: {\n        type: String,\n        trim: true\n    },\n    date_of_birth: {\n        type: Date\n    },\n    books: {\n        type: [_mongoose2.default.Schema.Types.ObjectId],\n        ref: 'BookSchema'\n    }\n});\n\nAuthorSchema.methods = {\n    view: function view() {\n        var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'list';\n\n        switch (type) {\n            case 'list':\n                return {\n                    id: this.id,\n                    first_name: this.first_name\n                };\n            default:\n                return {\n                    id: this.id,\n                    first_name: this.first_name,\n                    last_name: this.last_name,\n                    date_of_birth: this.date_of_birth\n                };\n        }\n    }\n};\n\nvar AuthorModel = _mongoose2.default.model('authors', AuthorSchema);\nexports.AuthorSchema = AuthorSchema;\nexports.AuthorModel = AuthorModel;\nexports.default = AuthorModel;"]}