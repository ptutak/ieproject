{"version":3,"sources":["../../../../lib/routes/book/model.js"],"names":["Object","defineProperty","exports","value","BookModel","BookSchema","undefined","_model","require","mongoose","Schema","title","type","String","trim","author","Types","ObjectId","ref","year","Date","methods","view","arguments","length","id","model","default"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;AAGAD,QAAQE,SAAR,GAAoBF,QAAQG,UAAR,GAAqBC,SAAzC;;AAEA,IAAIC,SAASC,QAAQ,iBAAR,CAAb;;AAEA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;;AAGA;AACA,IAAIH,aAAa,IAAII,SAASC,MAAb,CAAoB;AACjCC,WAAO;AACHC,cAAMC,MADH;AAEHC,cAAM;AAFH,KAD0B;AAKjCC,YAAQ;AACJH,cAAM,CAACH,SAASC,MAAT,CAAgBM,KAAhB,CAAsBC,QAAvB,CADF;AAEJC,aAAK;AAFD,KALyB;AASjCC,UAAM;AACFP,cAAMQ;AADJ;AAT2B,CAApB,CAAjB;;AAcAf,WAAWgB,OAAX,GAAqB;AACjBC,UAAM,SAASA,IAAT,GAAgB;AAClB,YAAIV,OAAOW,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBjB,SAAzC,GAAqDiB,UAAU,CAAV,CAArD,GAAoE,MAA/E;;AAEA,gBAAQX,IAAR;AACI,iBAAK,MAAL;AACI,uBAAO;AACHa,wBAAI,KAAKA,EADN;AAEHd,2BAAO,KAAKA;AAFT,iBAAP;AAIJ;AACI,uBAAO;AACHc,wBAAI,KAAKA,EADN;AAEHd,2BAAO,KAAKA,KAFT;AAGHI,4BAAQ,KAAKA,MAHV;AAIHI,0BAAM,KAAKA;AAJR,iBAAP;AAPR;AAcH;AAlBgB,CAArB;;AAqBA,IAAIf,YAAYK,SAASiB,KAAT,CAAe,OAAf,EAAwBrB,UAAxB,CAAhB;AACAH,QAAQG,UAAR,GAAqBA,UAArB;AACAH,QAAQE,SAAR,GAAoBA,SAApB;AACAF,QAAQyB,OAAR,GAAkBvB,SAAlB","file":"model.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BookModel = exports.BookSchema = undefined;\n\nvar _model = require('../author/model');\n\nvar mongoose = require('mongoose');\n\n\n//create a schema\nvar BookSchema = new mongoose.Schema({\n    title: {\n        type: String,\n        trim: true\n    },\n    author: {\n        type: [mongoose.Schema.Types.ObjectId],\n        ref: 'AuthorSchema'\n    },\n    year: {\n        type: Date\n    }\n});\n\nBookSchema.methods = {\n    view: function view() {\n        var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'list';\n\n        switch (type) {\n            case 'list':\n                return {\n                    id: this.id,\n                    title: this.title\n                };\n            default:\n                return {\n                    id: this.id,\n                    title: this.title,\n                    author: this.author,\n                    year: this.year\n                };\n        }\n    }\n};\n\nvar BookModel = mongoose.model('books', BookSchema);\nexports.BookSchema = BookSchema;\nexports.BookModel = BookModel;\nexports.default = BookModel;"]}